<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VCU: Inc/can_handler.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VCU
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('can__handler_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">can_handler.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="adc__channel__config_8h_source.html">adc_channel_config.h</a>&quot;</code><br />
<code>#include &quot;stm32h7xx_hal.h&quot;</code><br />
</div>
<p><a href="can__handler_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a867abf78b08ba30c6c874ca5fd367a3a" id="r_a867abf78b08ba30c6c874ca5fd367a3a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a867abf78b08ba30c6c874ca5fd367a3a">TxCanMsg</a> (FDCAN_HandleTypeDef channel, <a class="el" href="can_msg_8h.html#a1903967167da9ee211c8b3d6336d37e0">_canMessage</a> *msg)</td></tr>
<tr class="memdesc:a867abf78b08ba30c6c874ca5fd367a3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmits a CAN message over the specified CAN channel.  <br /></td></tr>
<tr class="separator:a867abf78b08ba30c6c874ca5fd367a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2af141a798026b2598082ee8ab3ff3fb" id="r_a2af141a798026b2598082ee8ab3ff3fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2af141a798026b2598082ee8ab3ff3fb">TxCanMsgList</a> (FDCAN_HandleTypeDef canChannel, <a class="el" href="can_msg_8h.html#a1903967167da9ee211c8b3d6336d37e0">_canMessage</a> *txList, int length)</td></tr>
<tr class="memdesc:a2af141a798026b2598082ee8ab3ff3fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmits a list of CAN messages over the specified CAN channel.  <br /></td></tr>
<tr class="separator:a2af141a798026b2598082ee8ab3ff3fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ab2f55065d29584cf99bdba196ed38" id="r_ac8ab2f55065d29584cf99bdba196ed38"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8ab2f55065d29584cf99bdba196ed38">ReadCanChannel</a> (FDCAN_HandleTypeDef canHandler)</td></tr>
<tr class="memdesc:ac8ab2f55065d29584cf99bdba196ed38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a CAN message from the specified CAN channel.  <br /></td></tr>
<tr class="separator:ac8ab2f55065d29584cf99bdba196ed38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a160161b884a9fe530717899cc5a2bf7c" id="r_a160161b884a9fe530717899cc5a2bf7c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a160161b884a9fe530717899cc5a2bf7c">TxHeaderSetup</a> ()</td></tr>
<tr class="memdesc:a160161b884a9fe530717899cc5a2bf7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the CAN transmit header with default settings.  <br /></td></tr>
<tr class="separator:a160161b884a9fe530717899cc5a2bf7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2520b09e7efcacfa46c14b477703f254" id="r_a2520b09e7efcacfa46c14b477703f254"><td class="memItemLeft" align="right" valign="top">FDCAN_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2520b09e7efcacfa46c14b477703f254">can_handler1</a></td></tr>
<tr class="separator:a2520b09e7efcacfa46c14b477703f254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae40a007b97f785d0024740d4a873be02" id="r_ae40a007b97f785d0024740d4a873be02"><td class="memItemLeft" align="right" valign="top">FDCAN_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae40a007b97f785d0024740d4a873be02">can_handler2</a></td></tr>
<tr class="separator:ae40a007b97f785d0024740d4a873be02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a7b745912274f0fefcdc92ce1e882c" id="r_a61a7b745912274f0fefcdc92ce1e882c"><td class="memItemLeft" align="right" valign="top">FDCAN_TxHeaderTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a61a7b745912274f0fefcdc92ce1e882c">TxHeader</a></td></tr>
<tr class="separator:a61a7b745912274f0fefcdc92ce1e882c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac8ab2f55065d29584cf99bdba196ed38" name="ac8ab2f55065d29584cf99bdba196ed38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8ab2f55065d29584cf99bdba196ed38">&#9670;&#160;</a></span>ReadCanChannel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ReadCanChannel </td>
          <td>(</td>
          <td class="paramtype">FDCAN_HandleTypeDef</td>          <td class="paramname"><span class="paramname"><em>canHandler</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a CAN message from the specified CAN channel. </p>
<p>This function attempts to read a CAN message from the specified CAN channel's receive FIFO. If the read operation fails, an error is indicated by toggling a GPIO pin (e.g., an LED).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">canHandler</td><td>The FDCAN handler for the CAN channel to be used for reading. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Returns <code>0</code> on successful read or error indication. </dd></dl>
<p>&lt; CAN receive header structure.</p>
<p>&lt; Buffer to store received CAN data.</p>

<p class="definition">Definition at line <a class="el" href="can__handler_8c_source.html#l00076">76</a> of file <a class="el" href="can__handler_8c_source.html">can_handler.c</a>.</p>

</div>
</div>
<a id="a867abf78b08ba30c6c874ca5fd367a3a" name="a867abf78b08ba30c6c874ca5fd367a3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a867abf78b08ba30c6c874ca5fd367a3a">&#9670;&#160;</a></span>TxCanMsg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TxCanMsg </td>
          <td>(</td>
          <td class="paramtype">FDCAN_HandleTypeDef</td>          <td class="paramname"><span class="paramname"><em>canChannel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="can_msg_8h.html#a1903967167da9ee211c8b3d6336d37e0">_canMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmits a CAN message over the specified CAN channel. </p>
<p>This function configures the CAN message header with the provided message ID and data length, then attempts to transmit the message using the specified CAN channel. If the transmission fails, the CAN channel is stopped, the error register is cleared, and the channel is restarted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">canChannel</td><td>The FDCAN handler for the CAN channel to be used for transmission. </td></tr>
    <tr><td class="paramname">msg</td><td>Pointer to the CAN message structure containing the message ID, data length, and data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Returns <code>OK_STATUS</code> if the message is successfully added to the transmit FIFO queue. </dd></dl>

<p class="definition">Definition at line <a class="el" href="can__handler_8c_source.html#l00030">30</a> of file <a class="el" href="can__handler_8c_source.html">can_handler.c</a>.</p>

</div>
</div>
<a id="a2af141a798026b2598082ee8ab3ff3fb" name="a2af141a798026b2598082ee8ab3ff3fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2af141a798026b2598082ee8ab3ff3fb">&#9670;&#160;</a></span>TxCanMsgList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TxCanMsgList </td>
          <td>(</td>
          <td class="paramtype">FDCAN_HandleTypeDef</td>          <td class="paramname"><span class="paramname"><em>canChannel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="can_msg_8h.html#a1903967167da9ee211c8b3d6336d37e0">_canMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>txList</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>length</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmits a list of CAN messages over the specified CAN channel. </p>
<p>This function iterates through a list of CAN messages and transmits each one using the <code>TxCanMsg</code> function. A small delay is added between transmissions to avoid overloading the CAN bus.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">canChannel</td><td>The FDCAN handler for the CAN channel to be used for transmission. </td></tr>
    <tr><td class="paramname">txList</td><td>Pointer to the array of CAN messages to be transmitted. </td></tr>
    <tr><td class="paramname">length</td><td>The number of messages in the <code>txList</code> array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Returns <code>0</code> on successful transmission of all messages. </dd></dl>

<p class="definition">Definition at line <a class="el" href="can__handler_8c_source.html#l00057">57</a> of file <a class="el" href="can__handler_8c_source.html">can_handler.c</a>.</p>

</div>
</div>
<a id="a160161b884a9fe530717899cc5a2bf7c" name="a160161b884a9fe530717899cc5a2bf7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a160161b884a9fe530717899cc5a2bf7c">&#9670;&#160;</a></span>TxHeaderSetup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TxHeaderSetup </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the CAN transmit header with default settings. </p>
<p>This function sets up the CAN transmit header with standard settings, including:</p><ul>
<li>Standard ID type</li>
<li>Data frame type</li>
<li>Active error state indicator</li>
<li>Classic CAN format</li>
<li>Message marker set to 0</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>int Returns <code>0</code> on successful configuration. </dd></dl>

<p class="definition">Definition at line <a class="el" href="can__handler_8c_source.html#l00101">101</a> of file <a class="el" href="can__handler_8c_source.html">can_handler.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a2520b09e7efcacfa46c14b477703f254" name="a2520b09e7efcacfa46c14b477703f254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2520b09e7efcacfa46c14b477703f254">&#9670;&#160;</a></span>can_handler1</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FDCAN_HandleTypeDef can_handler1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>FDCAN handler for CAN channel 1. </p>

<p class="definition">Definition at line <a class="el" href="can__handler_8c_source.html#l00014">14</a> of file <a class="el" href="can__handler_8c_source.html">can_handler.c</a>.</p>

</div>
</div>
<a id="ae40a007b97f785d0024740d4a873be02" name="ae40a007b97f785d0024740d4a873be02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae40a007b97f785d0024740d4a873be02">&#9670;&#160;</a></span>can_handler2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FDCAN_HandleTypeDef can_handler2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>FDCAN handler for CAN channel 2. </p>

<p class="definition">Definition at line <a class="el" href="can__handler_8c_source.html#l00015">15</a> of file <a class="el" href="can__handler_8c_source.html">can_handler.c</a>.</p>

</div>
</div>
<a id="a61a7b745912274f0fefcdc92ce1e882c" name="a61a7b745912274f0fefcdc92ce1e882c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61a7b745912274f0fefcdc92ce1e882c">&#9670;&#160;</a></span>TxHeader</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FDCAN_TxHeaderTypeDef TxHeader</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>CAN transmit header configuration. </p>

<p class="definition">Definition at line <a class="el" href="can__handler_8c_source.html#l00017">17</a> of file <a class="el" href="can__handler_8c_source.html">can_handler.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_f93dfce691d792349f1c14ede440e2e6.html">Inc</a></li><li class="navelem"><a class="el" href="can__handler_8h.html">can_handler.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
